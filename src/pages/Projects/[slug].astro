---
// src/pages/events/[slug].astro
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";


export async function getStaticPaths() {
    const events = await getCollection("events", {
        schema: ({ slug }: { slug: string }) => ({ slug }),
    });
    return events.map((entry) => ({
        params: { slug: entry.slug },
        props: { entry },
    }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title={entry.data.title}>

        <Fragment slot="title">{entry.data.title}</Fragment>
        <Fragment slot="images">
            {
                entry.data.images.map((image) => (
                    <div class="aspect-square overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300">
                        <img
                            src={image.image}
                            alt={`Image from ${entry.data.title}`}
                            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
                        />
                    </div>
                ))
            }
        </Fragment>

</Layout>
